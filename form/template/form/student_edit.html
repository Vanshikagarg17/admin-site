{% extends 'form/base.html' %}

{% block content %}

<body>
	
	{% include 'form/navigation.html' %}

	<div class="container">
		
		<div class="row">
			<div class="col s12 m6">
				<blockquote>
					<h5>
						{{ student.pk }}
					</h5>
				</blockquote>
			</div>
			{% if form.errors %}
				<div class="col s12 m6">
					<div class="card-panel red lighten-2 white-text">
						<ul>
							{% for key, value in form.errors.items %} 
								<li> <b>{{ key|escape }}</b> : {{ value|escape }}</li>
							{% endfor %}
						</ul>	
					</div>
				</div>
			{% endif %}
		</div>

		<script type="text/javascript">
			$(document).ready(function(){
				$('select').material_select();
				$('.datepicker').pickadate({
					selectMonths: true, // Creates a dropdown to control month
					selectYears: 15 // Creates a dropdown of 15 years to control year
				});
			});
		</script>

		<div class="row">
			<form method="POST" action="">
				{% csrf_token %}
				{% for field in form %}

					{% if field.name == "student_id" %}

					<input type="hidden" name="{{ field.name }}" value="{{ field.value }}">

					{% elif field.name == "ci" %}

					<div class="input-field col s12 m4">

						<select id="{{ field.id_for_label }}" name="{{ field.name }}" required>
							{% for x, y in form.fields.ci.choices %}

								<option value="{{ x }}" {% if field.value == x or field.value == y %} selected {% endif %}>
									{{ y }}
								</option>

							{% endfor %}
						</select>
						<label for="{{ field.id_for_label }}">{{ field.label }}</label>
					</div>

					{% else %}

					<div class="input-field col s12 m4">
						{{ field }}
						<label for="{{ field.id_for_label }}">{{ field.label }}</label>
					</div>

					{% endif %}

				{% endfor %}
				<div class="col s12 m4">
					<button class="btn waves-light waves-effect" type="submit">
						Update
					</button>
				</div>
			</form>
		</div>

	</div>

</body>

{% endblock %}